<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>TesteOn - Login</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
    .titulo-testeon {
        font-size: 3em;
        font-weight: bold;
        color: #1976d2;
        letter-spacing: 2px;
        text-shadow: 1px 2px 8px #bcdffb;
        margin-bottom: 0.2em;
    }
    .slogan {
        text-align: center;
        font-size: 1.25em;
        color: #333;
        margin-bottom: 2.2em;
        font-weight: 400;
    }
    .login-container {
        margin-top: 1.5em;
    }
    .descricao-plataforma {
        text-align: center;
        color: #6a7680;
        font-size: 1.08em;
        margin: 32px 0 0 0;
    }
    .rodape-institucional {
        margin: 16px auto 0 auto;
        text-align: center;
        color: #6a7680;
        font-size: 0.98em;
        max-width: 420px;
        padding: 0 10px;
        line-height: 1.5em;
    }
    .form-login {
        max-width:280px;
        margin:0 auto;
    }
    .btn-google-login {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 280px;
        margin: 18px auto 0 auto;
        background: #fff;
        color: #333;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 12px 16px;
        font-size: 1em;
        font-weight: 500;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.2s;
    }
    .btn-google-login:hover {
        background: #f8f9fa;
        border-color: #c1c1c1;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .btn-google-login img {
        width: 18px;
        height: 18px;
        margin-right: 8px;
    }
    .loading {
        display: none;
        text-align: center;
        margin: 20px 0;
    }
    .error-message {
        color: #d32f2f;
        background: #ffebee;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
        display: none;
    }
    /* Bot√£o Quem Somos */
    .quem-somos-btn {
        position: fixed;
        top: 24px;
        left: 32px;
        background: #1976d2;
        color: #fff;
        border: none;
        border-radius: 4px;
        padding: 10px 22px;
        font-size: 1em;
        font-weight: 500;
        cursor: pointer;
        z-index: 1001;
        box-shadow: 0 2px 8px #bcdffb;
        transition: background 0.2s;
    }
    .quem-somos-btn:hover { background: #125ea7; }
    /* Modal */
    .modal-quem-somos {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        overflow: auto;
        background-color: rgba(0,0,0,0.35);
    }
    .modal-content-quem-somos {
        background-color: #fff;
        margin: 5% auto;
        padding: 32px 28px;
        border-radius: 8px;
        max-width: 720px;
        width: 90%;
        box-shadow: 0 4px 24px #bcdffb;
        position: relative;
        font-size: 1.08em;
        max-height: 85vh;
        overflow-y: auto;
    }
    
    @media (max-width: 768px) {
        .modal-content-quem-somos {
            width: 95%;
            margin: 2% auto;
            padding: 20px 16px;
            font-size: 1em;
        }
    }
    .close-quem-somos {
        color: #1976d2;
        position: absolute;
        top: 12px;
        right: 18px;
        font-size: 1.7em;
        font-weight: bold;
        cursor: pointer;
    }
    .close-quem-somos:hover { color: #125ea7; }
    </style>
    <script>
    function abrirQuemSomos() {
        document.getElementById('modalQuemSomos').style.display = 'block';
    }
    function fecharQuemSomos() {
        document.getElementById('modalQuemSomos').style.display = 'none';
    }
    window.onclick = function(event) {
        var modal = document.getElementById('modalQuemSomos');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }
    </script>
</head>
<body>
    <button class="quem-somos-btn" onclick="abrirQuemSomos()">Quem Somos</button>
    <div id="modalQuemSomos" class="modal-quem-somos">
        <div class="modal-content-quem-somos">
            <span class="close-quem-somos" onclick="fecharQuemSomos()">&times;</span>
            <h2 style="color:#1976d2; text-align:center; margin-bottom:18px;">Quem Somos</h2>
            <p style="text-align:justify;">
                <b>Bem-vindo ao TesteOn ‚Äì Sua Avalia√ß√£o Conectada ao Futuro.</b><br><br>
                O TesteOn √© uma plataforma criada por Alexandre Tolentino, educador com longa experi√™ncia em sala de aula, que conhece de perto os desafios enfrentados pelos professores no dia a dia: falta de tempo, sobrecarga de trabalho e a necessidade constante de avaliar os estudantes com qualidade.<br><br>
                Inspirado por essa realidade, Alexandre desenvolveu o TesteOn com o objetivo de proporcionar mais autonomia, agilidade e efici√™ncia ao trabalho docente, usando a tecnologia como aliada da aprendizagem.<br><br>
                Com o avan√ßo tecnol√≥gico e o impacto das mudan√ßas digitais em todas as √°reas da sociedade, a escola tamb√©m precisa se adaptar. O uso de recursos tecnol√≥gicos na educa√ß√£o j√° n√£o √© uma tend√™ncia ‚Äî √© uma necessidade. Nesse contexto, a avalia√ß√£o online surge como uma solu√ß√£o moderna e eficaz.<br><br>
                Ao aplicar provas e simulados diretamente nos computadores das unidades escolares, o professor otimiza seu tempo, evita a corre√ß√£o manual e ainda estimula o interesse dos estudantes, que j√° est√£o naturalmente conectados ao universo digital. O uso da tecnologia aumenta o engajamento, tornando o processo avaliativo mais din√¢mico, acess√≠vel e atual.<br><br>
                Al√©m disso, a plataforma contribui para a economicidade nas escolas, reduzindo a necessidade de impress√µes em massa e promovendo uma educa√ß√£o mais sustent√°vel.<br><br>
                O TesteOn foi estruturado com base em modelos de avalia√ß√µes externas, como o SAEB, permitindo que os professores criem simulados alinhados aos descritores cobrados nas provas nacionais, fortalecendo a aprendizagem e apoiando o trabalho pedag√≥gico em sala.<br><br>
                <b>üéØ Tipos de Avalia√ß√£o Dispon√≠veis:</b><br><br>
                <b>üìù Provas Objetivas:</b> Quest√µes de m√∫ltipla escolha com corre√ß√£o autom√°tica instant√¢nea.<br><br>
                <b>‚úçÔ∏è Provas Subjetivas:</b> Quest√µes discursivas que permitem aos alunos desenvolverem respostas detalhadas, com ferramentas de corre√ß√£o manual pelo professor.<br><br>
                <b>üìö Reda√ß√µes ENEM:</b> Sistema especializado para cria√ß√£o e corre√ß√£o de reda√ß√µes seguindo a estrutura de pontua√ß√£o do ENEM, incluindo as cinco compet√™ncias avaliadas no exame nacional:<br>
                <ul style="margin-left:18px; margin-top:8px;">
                    <li><b>Compet√™ncia 1:</b> Dom√≠nio da norma culta da l√≠ngua escrita</li>
                    <li><b>Compet√™ncia 2:</b> Compreens√£o da proposta e aplica√ß√£o de conceitos</li>
                    <li><b>Compet√™ncia 3:</b> Capacidade de selecionar, relacionar e organizar informa√ß√µes</li>
                    <li><b>Compet√™ncia 4:</b> Conhecimento dos mecanismos lingu√≠sticos para argumenta√ß√£o</li>
                    <li><b>Compet√™ncia 5:</b> Elabora√ß√£o de proposta de interven√ß√£o para o problema abordado</li>
                </ul><br>
                Com o TesteOn, voc√™ pode:<br>
                <ul style="margin-left:18px;">
                    <li>Criar provas objetivas, subjetivas e reda√ß√µes com facilidade e rapidez;</li>
                    <li>Aplicar avalia√ß√µes digitais com corre√ß√£o autom√°tica para quest√µes objetivas;</li>
                    <li>Corrigir quest√µes subjetivas e reda√ß√µes com crit√©rios personalizados;</li>
                    <li>Avaliar reda√ß√µes seguindo rigorosamente os crit√©rios do ENEM;</li>
                    <li>Receber resultados e gr√°ficos de desempenho instantaneamente;</li>
                    <li>Trabalhar com mais estrat√©gia, menos sobrecarga e maior impacto na aprendizagem.</li>
                </ul>
                <b>üì¨ Fale com o idealizador</b><br>
                Em caso de d√∫vidas, sugest√µes ou parcerias, entre em contato:<br><br>
                üë§ Alexandre Tolentino<br>
                üìß E-mail: <a href="mailto:tolentinoalexandre534@gmail.com">tolentinoalexandre534@gmail.com</a><br>
                üì± WhatsApp: <a href="https://wa.me/5563985009703" target="_blank">(63) 98500-9703</a>
            </p>
        </div>
    </div>
    <div class="container">
        <img src="/static/uploads/testeon.png" alt="Logo TesteOn" style="display:block; margin: 0 auto 18px auto; max-width:260px; height:auto;">
        <div style="text-align:center; font-size:1.25em; color:#1976d2; margin-bottom:18px; font-weight:500;">Sua avalia√ß√£o conectada ao futuro.</div>
        <div class="login-container">
            <h2 style="text-align:center; color:#1976d2;">Login do Professor</h2>
            
            <div id="error-message" class="error-message"></div>
            
            <div class="form-login">
                <button id="google-login-btn" class="btn-google-login" onclick="signInWithGoogle()">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google">
                    Entrar com Google
                </button>
            </div>
            
            <div id="loading" class="loading">
                <p>Fazendo login...</p>
            </div>
        </div>
        <div class="descricao-plataforma">
            Plataforma para o professor criar simulados e aplicar virtualmente para seus estudantes.
        </div>
        <div class="rodape-institucional">
            ¬© 2025 TesteOn. Todos os direitos reservados
        </div>
        <div style="margin-top:18px; text-align:center;">
            <b>Avalia√ß√µes Online</b>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    
    <script>
    // Configura√ß√£o do Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyB01EzL2foQZZtuRYtzk0DWQOadUhORw1s",
        authDomain: "testeon-1e5e4.firebaseapp.com",
        projectId: "testeon-1e5e4",
        storageBucket: "testeon-1e5e4.firebasestorage.app",
        messagingSenderId: "1061176055557",
        appId: "1:1061176055557:web:8cc3bb023aadca268a896c"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Fun√ß√£o de login com Google
    function signInWithGoogle() {
        const provider = new firebase.auth.GoogleAuthProvider();
        provider.addScope('email');
        provider.addScope('profile');
        
        document.getElementById('loading').style.display = 'block';
        document.getElementById('google-login-btn').style.display = 'none';
        document.getElementById('error-message').style.display = 'none';
        
        auth.signInWithPopup(provider)
            .then((result) => {
                const user = result.user;
                return user.getIdToken();
            })
            .then((idToken) => {
                // Enviar token para o backend
                return fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        idToken: idToken
                    })
                });
            })
            .then((response) => response.json())
            .then((data) => {
                if (data.success) {
                    // Redirecionar para o dashboard
                    window.location.href = '/dashboard';
                } else {
                    throw new Error(data.error || 'Erro no login');
                }
            })
            .catch((error) => {
                console.error('Erro no login:', error);
                document.getElementById('error-message').textContent = error.message || 'Erro ao fazer login. Tente novamente.';
                document.getElementById('error-message').style.display = 'block';
                document.getElementById('loading').style.display = 'none';
                document.getElementById('google-login-btn').style.display = 'flex';
            });
    }

    // Verificar se usu√°rio j√° est√° logado
    auth.onAuthStateChanged((user) => {
        if (user) {
            // Usu√°rio j√° est√° logado, redirecionar para dashboard
            window.location.href = '/dashboard';
        }
    });
    </script>
</body>
</html> 